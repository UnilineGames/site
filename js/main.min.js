"use strict";function Constellation(n){var i=this,s=n.getContext("2d"),h={star:{color:"rgba(255, 255, 255, .3)",width:3},line:{color:"rgba(255, 255, 255, .3)",width:.3},position:{x:0,y:0},width:window.innerWidth,height:window.innerHeight,length:Math.sqrt(Math.pow(window.innerWidth,2)+Math.pow(window.innerHeight,2))/10,distance:150,radius:170,stars:[]};function o(){this.x=Math.random()*n.width,this.y=Math.random()*n.height,this.radius=Math.random()*h.star.width,this.vx=(.5-Math.random())/5,this.vy=(.5-Math.random())/5,this.create=function(){s.beginPath(),s.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),s.fill()}}this.animate=function(){var t;for(t=0;t<h.length;t++){var i=h.stars[t];i.y<0||i.y>n.height?i.vy=-i.vy:(i.x<0||i.x>n.width)&&(i.vx=-i.vx),i.x+=i.vx,i.y+=i.vy}},this.line=function(){var t,i,n,o,e=h.length;for(n=0;n<e;n++)for(o=0;o<e;o++)t=h.stars[n],i=h.stars[o],t.x-i.x<h.distance&&t.y-i.y<h.distance&&t.x-i.x>-h.distance&&t.y-i.y>-h.distance&&t.x-h.position.x<h.radius&&t.y-h.position.y<h.radius&&t.x-h.position.x>-h.radius&&t.y-h.position.y>-h.radius&&(s.beginPath(),s.moveTo(t.x,t.y),s.lineTo(i.x,i.y),s.stroke(),s.closePath())},this.createStars=function(){s.clearRect(0,0,n.width,n.height);for(var t=0;t<h.length;t++)h.stars.push(new o),h.stars[t].create();i.animate(),i.line()},this.setCanvas=function(){n.width=h.width,n.height=h.height},this.setContext=function(){s.fillStyle=h.star.color,s.strokeStyle=h.line.color,s.lineWidth=h.line.width},this.loop=function(t){t(),i.loopId=window.requestAnimationFrame(function(){i.loop(t)})},this.bind=function(){n.addEventListener("mousemove",function(t){h.position.x=t.pageX-n.offsetLeft,h.position.y=t.pageY-n.offsetTop})},this.init=function(){this.setCanvas(),this.setContext(),this.loop(this.createStars),this.bind()},this.refresh=function(){cancelAnimationFrame(i.loopId),s.clearRect(0,0,n.width,n.height),h.width=window.innerWidth,h.height=window.innerHeight,h.length=Math.sqrt(Math.pow(window.innerWidth,2)+Math.pow(window.innerHeight,2))/10,h.stars=[],this.init()},this.pauseAnimations=function(){$(window).scrollTop()>h.height/2&&i.loopId?(cancelAnimationFrame(i.loopId),i.loopId=0,console.log(i.loopId)):$(window).scrollTop()<h.height/2&&0===i.loopId&&(i.loop(i.createStars),console.log(i.loopId))}}$(function(){$(".header-inner").affix({offset:{top:function(){return console.log($(window).height()),this.top=$(window).height()/2-$(".header_logo").height()/2}}})}),document.addEventListener("DOMContentLoaded",function(){var t,i=new Constellation($(".background-canvas")[0]);i.init(),$(window).resize(function(){clearTimeout(t),t=setTimeout(i.refresh(),300)}),$(window).scroll(i.pauseAnimations)});
//# sourceMappingURL=maps/main.min.js.map
