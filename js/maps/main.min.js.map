{"version":3,"sources":["stars.js","main.js"],"names":["Constellation","canvas","_this","this","context","getContext","config","star","color","width","line","position","x","y","window","innerWidth","height","innerHeight","length","Math","sqrt","pow","distance","radius","stars","Star","random","vx","vy","create","beginPath","arc","PI","fill","animate","i","iStar","jStar","j","moveTo","lineTo","stroke","closePath","createStars","clearRect","push","setCanvas","setContext","fillStyle","strokeStyle","lineWidth","loop","callback","loopId","requestAnimationFrame","bind","addEventListener","e","pageX","offsetLeft","pageY","offsetTop","init","refresh","cancelAnimationFrame","pauseAnimations","$","scrollTop","console","log","affix","offset","top","document","timeoutId","resize","clearTimeout","setTimeout","scroll"],"mappings":"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","file":"../main.min.js","sourcesContent":["function Constellation (canvas) {\n    var _this = this,\n        context = canvas.getContext('2d'),\n        config = {\n            star: {\n                color: 'rgba(255, 255, 255, .3)',\n                width: 3\n            },\n            line: {\n                color: 'rgba(255, 255, 255, .3)',\n                width: 0.3\n            },\n            position: {\n                x: 0,\n                y: 0\n            },\n            width: window.innerWidth,\n            height: window.innerHeight,\n            length: Math.sqrt( Math.pow(window.innerWidth, 2) + Math.pow(window.innerHeight, 2) ) / 10,\n            distance: 150,\n            radius: 170,\n            stars: []\n        };\n\n    function Star () {\n        this.x = Math.random() * canvas.width;\n        this.y = Math.random() * canvas.height;\n        this.radius = Math.random() * config.star.width;\n\n        this.vx = (0.5 - Math.random())/5;\n        this.vy = (0.5 - Math.random())/5;\n\n        this.create = function() {\n            context.beginPath();\n            context.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\n            context.fill();\n        };\n    }\n\n    this.animate = function() {\n        var i;\n        for (i = 0; i < config.length; i++) {\n\n            var star = config.stars[i];\n\n            if (star.y < 0 || star.y > canvas.height) {\n                star.vy = - star.vy;\n            } else if (star.x < 0 || star.x > canvas.width) {\n                star.vx = - star.vx;\n            }\n\n            star.x += star.vx;\n            star.y += star.vy;\n        }\n    };\n\n    this.line = function() {\n        var length = config.length,\n            iStar,\n            jStar,\n            i,\n            j;\n\n        for (i = 0; i < length; i++) {\n            for (j = 0; j < length; j++) {\n                iStar = config.stars[i];\n                jStar = config.stars[j];\n\n                if (\n                    (iStar.x - jStar.x) < config.distance &&\n                    (iStar.y - jStar.y) < config.distance &&\n                    (iStar.x - jStar.x) > - config.distance &&\n                    (iStar.y - jStar.y) > - config.distance\n                ) {\n                    if (\n                        (iStar.x - config.position.x) < config.radius &&\n                        (iStar.y - config.position.y) < config.radius &&\n                        (iStar.x - config.position.x) > - config.radius &&\n                        (iStar.y - config.position.y) > - config.radius\n                    ) {\n                        context.beginPath();\n                        context.moveTo(iStar.x, iStar.y);\n                        context.lineTo(jStar.x, jStar.y);\n                        context.stroke();\n                        context.closePath();\n                    }\n                }\n            }\n        }\n    };\n\n    this.createStars = function () {\n        context.clearRect(0, 0, canvas.width, canvas.height);\n\n        for (var i = 0; i < config.length; i++) {\n            config.stars.push(new Star());\n            config.stars[i].create();\n        }\n\n        _this.animate();\n        _this.line();\n    };\n\n    this.setCanvas = function () {\n        canvas.width = config.width;\n        canvas.height = config.height;\n    };\n\n    this.setContext = function () {\n        context.fillStyle = config.star.color;\n        context.strokeStyle = config.line.color;\n        context.lineWidth = config.line.width;\n    };\n\n    this.loop = function (callback) {\n        callback();\n\n        _this.loopId = window.requestAnimationFrame(function () {\n            _this.loop(callback);\n        });\n    };\n\n    this.bind = function () {\n        canvas.addEventListener(\"mousemove\", function(e){\n            config.position.x = e.pageX - canvas.offsetLeft;\n            config.position.y = e.pageY - canvas.offsetTop;\n        });\n    };\n\n    this.init = function () {\n        this.setCanvas();\n        this.setContext();\n        this.loop(this.createStars);\n        this.bind();\n    };\n\n    this.refresh = function () {\n        cancelAnimationFrame(_this.loopId);\n        context.clearRect(0, 0, canvas.width, canvas.height);\n        config.width = window.innerWidth;\n        config.height = window.innerHeight;\n        config.length = Math.sqrt( Math.pow(window.innerWidth, 2) + Math.pow(window.innerHeight, 2) ) / 10;\n        config.stars = [];\n        this.init();\n    };\n\n    this.pauseAnimations = function () {\n        if(($(window).scrollTop() > config.height/2) && _this.loopId){\n            cancelAnimationFrame(_this.loopId);\n            _this.loopId = 0;\n            console.log(_this.loopId);\n        } else if($(window).scrollTop() < config.height/2 && (_this.loopId === 0)){\n            _this.loop(_this.createStars);\n            console.log(_this.loopId);\n        }\n    };\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n    let stars = new Constellation($('.background-canvas')[0]);\n    var timeoutId;\n    stars.init();\n    function resizeEvent(){\n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(stars.refresh(), 300);\n    }\n    $(window).resize(resizeEvent);\n    $(window).scroll(stars.pauseAnimations);\n});\n","$(function () {\n    $('.header-inner').affix({\n        offset: {\n            top: function () {\n                console.log($(window).height());\n                return (this.top = $(window).height()/2 - $('.header_logo').height()/2)\n            }\n        }\n    });\n\n});\n\n"]}